<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚³ã‚¸ãƒãƒ‰!! - åç°¿ç®¡ç†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h1 class="title">ã‚³ã‚¸ãƒãƒ‰!!</h1>

<div class="top-nav">
  <a class="active" href="players.html">åç°¿ç®¡ç†</a>
  <a href="attendance.html">å‚åŠ ãƒã‚§ãƒƒã‚¯</a>
  <a href="index.html">è©¦åˆä½œæˆ</a>
</div>

<!-- åç°¿ãƒ‘ãƒãƒ« -->
<div class="panel">
  <h2>åå‰ã‚’è¿½åŠ </h2>

  <label class="label">åå‰</label>
  <input id="newPlayer" type="text" placeholder="ä¾‹ï¼šã‚³ã‚¸ã‚³ã‚¸">

  <button class="btn primary" onclick="addPlayer()">è¿½åŠ </button>
</div>

<!-- åç°¿ä¸€è¦§ -->
<div class="panel">
  <h2>åç°¿ä¸€è¦§</h2>

  <ul id="playerList" style="list-style:none; padding:0; margin:0;"></ul>

  <p class="muted">â€» åç°¿ã¯è‡ªå‹•ä¿å­˜ã•ã‚Œã¾ã™</p>
</div>

<script src="common.js"></script>

<script>
/* ===============================
   åç°¿ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯
=============================== */

function loadPlayers() {
  const list = document.getElementById("playerList");
  list.innerHTML = "";

  const players = getAllPlayers();

  players.forEach((name, index) => {
    const li = document.createElement("li");
    li.className = "match-card";

    li.innerHTML = `
      <div class="teams">
        <div class="team team-a">${name}</div>
        <button class="btn" style="width:auto; background:#ff6675;"
          onclick="deletePlayer(${index})">å‰Šé™¤</button>
      </div>
    `;

    list.appendChild(li);
  });
}

function addPlayer() {
  const input = document.getElementById("newPlayer");
  const name = input.value.trim();

  if (!name) {
    alert("åå‰ã‚’å…¥åŠ›ã—ã¦ã­ğŸ¥º");
    return;
  }

  const players = getAllPlayers();

  if (players.includes(name)) {
    alert("ãã®åå‰ã¯ã‚‚ã†ã‚ã‚‹ã‚ˆğŸ’¦");
    return;
  }

  players.push(name);
  localStorage.setItem("allPlayers", JSON.stringify(players));

  input.value = "";
  loadPlayers();
}

function deletePlayer(index) {
  if (!confirm("ã»ã‚“ã¨ã«å‰Šé™¤ã™ã‚‹ï¼Ÿ")) return;

  const players = getAllPlayers();
  players.splice(index, 1);
  localStorage.setItem("allPlayers", JSON.stringify(players));

  loadPlayers();
}

/* åˆæœŸè¡¨ç¤º */
loadPlayers();
</script>

</body>
</html>
